<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>IdeaSpark</title>
    <script>
      // GitHub Pages SPA 라우팅 지원
      // 모든 404 요청을 index.html로 리다이렉트
      (function() {
        var path = window.location.pathname;
        var base = '/ideaspark';
        
        // 무한 반복 방지: index.html이 이미 포함되어 있으면 중단
        if (path.includes('/index.html')) {
          // 이미 index.html로 리다이렉트된 경우, 실제 경로 추출
          var match = path.match(/\/index\.html(.*)$/);
          if (match && match[1]) {
            // 실제 경로로 다시 리다이렉트 (index.html 없이)
            var actualPath = base + match[1] + window.location.search + window.location.hash;
            window.location.replace(actualPath);
            return;
          }
          // index.html만 있는 경우 루트로
          window.location.replace(base + '/');
          return;
        }
        
        // 현재 경로가 base path로 시작하는지 확인
        if (path.startsWith(base)) {
          // base path 제거
          path = path.substring(base.length);
        }
        
        // 경로가 비어있거나 '/'만 있으면 루트로
        if (!path || path === '/') {
          window.location.replace(base + '/index.html');
          return;
        }
        
        // index.html로 리다이렉트 (쿼리 스트링과 해시 유지)
        var redirect = base + '/index.html' + (path.startsWith('/') ? path : '/' + path) + window.location.search + window.location.hash;
        window.location.replace(redirect);
      })();
    </script>
  </head>
  <body>
    <div style="text-align: center; padding: 50px; font-family: sans-serif;">
      <h1>리다이렉트 중...</h1>
      <p>잠시만 기다려주세요.</p>
    </div>
  </body>
</html>
